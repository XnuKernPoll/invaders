package state
import (
	"github.com/BurntSushi/toml"
	"sync"
)

func DecodeCityMap(fileName string) (*CityMap, error) {
	
	var cities []City
	e := toml.decodeFile(fileName, &cities) 

	if e != nil {
		return (nil, e)
	}

	nodes := make(map[string]city)
	
	for _, x := range cities {
		nodes[x.name] = x
	}

	aliens := make(map[int]Alien)

	
	s := CityMap{nodes: nodes, aliens: aliens}

	return &s, e
	
	
}  
